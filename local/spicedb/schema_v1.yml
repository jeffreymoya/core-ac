/** schema for pulse8 */
/** user represents a user */
definition user {}

definition echo {
    relation viewer: user | user:*
    permission view = viewer
}

definition policy01 {
    relation administrator: policy01#administrator
    relation member: user
    permission admin = administrator
    permission view = administrator
    permission update = administrator
    permission delete = administrator
    permission create = administrator
}

definition organization{
    relation member : user
    relation admin : user

    permission create = admin
    permission update = admin
    permission delete = admin
    permission view = admin + member
}

caveat attributes_match(expected map<any>, provided map<any>) {
    expected.isSubtreeOf(provided)
}